{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Timotec\\\\Desktop\\\\DoppleExtend\\\\Dopple-Extend\\\\dopple\\\\src\\\\components\\\\cams\\\\CameraPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport doppleLogo from \"../../assets/doppleLogo.png\";\nimport './CameraFeeds.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loadScript = (src, callback) => {\n  const script = document.createElement('script');\n  script.src = src;\n  script.onload = callback;\n  document.head.appendChild(script);\n};\nconst CameraPlayer = ({\n  url\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadScript('https://cdn.bootcdn.net/ajax/libs/flv.js/1.5.0/flv.min.js', () => {\n      if (window.flvjs && window.flvjs.isSupported()) {\n        const videoElement = videoRef.current;\n        const flvPlayer = window.flvjs.createPlayer({\n          type: 'flv',\n          hasAudio: false,\n          isLive: true,\n          url: url\n        });\n        flvPlayer.attachMediaElement(videoElement);\n        flvPlayer.load();\n        const handleCanPlay = () => {\n          setLoading(false);\n          videoElement.play().catch(error => {\n            console.error('Error attempting to play video:', error);\n          });\n        };\n        videoElement.addEventListener('canplay', handleCanPlay);\n        return () => {\n          flvPlayer.destroy();\n          videoElement.removeEventListener('canplay', handleCanPlay);\n        };\n      }\n    });\n  }, [url]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '280px',\n      height: '280px'\n    },\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: doppleLogo,\n        alt: \"Loading\",\n        style: {\n          width: '50px',\n          height: '50px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      controls: true,\n      autoPlay: true,\n      muted: true,\n      style: {\n        width: '100%',\n        height: '100%',\n        display: loading ? 'none' : 'block'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraPlayer, \"8VTqx00LqDQS2wOl40OI4sI0Y7E=\");\n_c = CameraPlayer;\nexport default CameraPlayer;\nvar _c;\n$RefreshReg$(_c, \"CameraPlayer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","doppleLogo","jsxDEV","_jsxDEV","loadScript","src","callback","script","document","createElement","onload","head","appendChild","CameraPlayer","url","_s","videoRef","loading","setLoading","window","flvjs","isSupported","videoElement","current","flvPlayer","createPlayer","type","hasAudio","isLive","attachMediaElement","load","handleCanPlay","play","catch","error","console","addEventListener","destroy","removeEventListener","style","position","width","height","children","top","left","display","justifyContent","alignItems","backgroundColor","zIndex","alt","fileName","_jsxFileName","lineNumber","columnNumber","ref","controls","autoPlay","muted","_c","$RefreshReg$"],"sources":["C:/Users/Timotec/Desktop/DoppleExtend/Dopple-Extend/dopple/src/components/cams/CameraPlayer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport doppleLogo from \"../../assets/doppleLogo.png\";\r\nimport './CameraFeeds.css';\r\n\r\nconst loadScript = (src, callback) => {\r\n  const script = document.createElement('script');\r\n  script.src = src;\r\n  script.onload = callback;\r\n  document.head.appendChild(script);\r\n};\r\n\r\nconst CameraPlayer = ({ url }) => {\r\n  const videoRef = useRef(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadScript('https://cdn.bootcdn.net/ajax/libs/flv.js/1.5.0/flv.min.js', () => {\r\n      if (window.flvjs && window.flvjs.isSupported()) {\r\n        const videoElement = videoRef.current;\r\n        const flvPlayer = window.flvjs.createPlayer({\r\n          type: 'flv',\r\n          hasAudio: false,\r\n          isLive: true,\r\n          url: url,\r\n        });\r\n        flvPlayer.attachMediaElement(videoElement);\r\n        flvPlayer.load();\r\n\r\n        const handleCanPlay = () => {\r\n          setLoading(false);\r\n          videoElement.play().catch((error) => {\r\n            console.error('Error attempting to play video:', error);\r\n          });\r\n        };\r\n\r\n        videoElement.addEventListener('canplay', handleCanPlay);\r\n\r\n        return () => {\r\n          flvPlayer.destroy();\r\n          videoElement.removeEventListener('canplay', handleCanPlay);\r\n        };\r\n      }\r\n    });\r\n  }, [url]);\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '280px', height: '280px' }}>\r\n      {loading && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          zIndex: 2,\r\n        }}>\r\n          <img src={doppleLogo} alt=\"Loading\" style={{ width: '50px', height: '50px' }} />\r\n        </div>\r\n      )}\r\n      <video \r\n        ref={videoRef} \r\n        controls \r\n        autoPlay \r\n        muted \r\n        style={{ \r\n          width: '100%', \r\n          height: '100%', \r\n          display: loading ? 'none' : 'block' \r\n        }} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraPlayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}