{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Timotec\\\\Desktop\\\\DoppleExtend\\\\Dopple-Extend\\\\dopple\\\\src\\\\components\\\\cams\\\\SideDoor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loadScript = (src, callback) => {\n  const script = document.createElement('script');\n  script.src = src;\n  script.onload = callback;\n  document.head.appendChild(script);\n};\nconst SideDoor = () => {\n  _s();\n  const videoRef = useRef(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadScript('https://cdn.bootcdn.net/ajax/libs/flv.js/1.5.0/flv.min.js', () => {\n      if (window.flvjs && window.flvjs.isSupported()) {\n        const videoElement = videoRef.current;\n        const flvPlayer = window.flvjs.createPlayer({\n          type: 'flv',\n          hasAudio: false,\n          isLive: true,\n          url: 'https://gatewatcher.dopple.site/camera_front'\n        });\n        flvPlayer.attachMediaElement(videoElement);\n        flvPlayer.load();\n\n        // Attempt to play the video\n        const playVideo = () => {\n          videoElement.play().then(() => {\n            setLoading(false); // Set loading to false when video starts playing\n          }).catch(error => {\n            console.error('Error attempting to play video:', error);\n          });\n        };\n        flvPlayer.on(window.flvjs.Events.LOADING_COMPLETE, playVideo);\n        flvPlayer.play();\n        return () => {\n          flvPlayer.destroy();\n        };\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: '350px',\n      height: '350px'\n    },\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        color: 'white',\n        fontSize: '18px'\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      controls: true,\n      autoPlay: true,\n      muted: true,\n      style: {\n        width: '350px',\n        height: '350px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(SideDoor, \"8VTqx00LqDQS2wOl40OI4sI0Y7E=\");\n_c = SideDoor;\nexport default SideDoor;\nvar _c;\n$RefreshReg$(_c, \"SideDoor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","loadScript","src","callback","script","document","createElement","onload","head","appendChild","SideDoor","_s","videoRef","loading","setLoading","window","flvjs","isSupported","videoElement","current","flvPlayer","createPlayer","type","hasAudio","isLive","url","attachMediaElement","load","playVideo","play","then","catch","error","console","on","Events","LOADING_COMPLETE","destroy","style","position","width","height","children","top","left","display","justifyContent","alignItems","backgroundColor","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","ref","controls","autoPlay","muted","_c","$RefreshReg$"],"sources":["C:/Users/Timotec/Desktop/DoppleExtend/Dopple-Extend/dopple/src/components/cams/SideDoor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nconst loadScript = (src, callback) => {\r\n  const script = document.createElement('script');\r\n  script.src = src;\r\n  script.onload = callback;\r\n  document.head.appendChild(script);\r\n};\r\n\r\nconst SideDoor = () => {\r\n  const videoRef = useRef(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadScript('https://cdn.bootcdn.net/ajax/libs/flv.js/1.5.0/flv.min.js', () => {\r\n      if (window.flvjs && window.flvjs.isSupported()) {\r\n        const videoElement = videoRef.current;\r\n        const flvPlayer = window.flvjs.createPlayer({\r\n          type: 'flv',\r\n          hasAudio: false,\r\n          isLive: true,\r\n          url: 'https://gatewatcher.dopple.site/camera_front',\r\n        });\r\n        flvPlayer.attachMediaElement(videoElement);\r\n        flvPlayer.load();\r\n\r\n        // Attempt to play the video\r\n        const playVideo = () => {\r\n          videoElement.play().then(() => {\r\n            setLoading(false); // Set loading to false when video starts playing\r\n          }).catch((error) => {\r\n            console.error('Error attempting to play video:', error);\r\n          });\r\n        };\r\n\r\n        flvPlayer.on(window.flvjs.Events.LOADING_COMPLETE, playVideo);\r\n        flvPlayer.play();\r\n\r\n        return () => {\r\n          flvPlayer.destroy();\r\n        };\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '350px', height: '350px' }}>\r\n      {loading && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          color: 'white',\r\n          fontSize: '18px'\r\n        }}>\r\n          Loading...\r\n        </div>\r\n      )}\r\n      <video \r\n        ref={videoRef} \r\n        controls \r\n        autoPlay \r\n        muted \r\n        style={{ width: '350px', height: '350px' }} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideDoor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}